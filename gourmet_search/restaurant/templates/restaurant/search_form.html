<form method="get" action="{% url 'search_form' %}">
    <label for="radius">検索半径 (km):</label>
    <input type="number" id="radius" name="radius" min="1" max="10" required>
    <button type="button" onclick="getLocation()">現在地を取得</button>
    <input type="hidden" id="latitude" name="latitude">
    <input type="hidden" id="longitude" name="longitude">
    <button type="submit">検索</button>
</form>

<script>
    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition((position) => {
                document.getElementById('latitude').value = position.coords.latitude;
                document.getElementById('longitude').value = position.coords.longitude;
            });
        } else {
            alert("現在地情報を取得できません");
        }
    }
</script>
